:- use_module(library(clpfd)). 
 
zlicz(_,[],0):-!.
zlicz(X,[X|T],N):-
	zlicz(X,T,N1),
	N is N1 +1.
zlicz(X,[Y|T],N):-
	zlicz(X,T,N). 
 
srat(Rozwiazanie) :- 
 
	Rozwiazanie=[Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10],   
	Zliczenia=[N1,N2,N3,N4,N5], 
	Rozwiazanie ins 1..5, 
	Zliczenia ins 0..10, 
 
	N1 + N2 + N3 + N4 + N5 #= 10, 

 
	Q1 #= 1 #<==> Q1 #\= 2 #/\ Q2 #= 2, 
	Q1 #= 2 #<==> Q2 #\= 2 #/\ Q3 #= 2,
	Q1 #= 3 #<==> Q1 #\= 2 #/\ Q2 #\= 2 #/\ Q3 #\= 2 #/\ Q4 #= 2, 
	Q1 #= 4 #<==> Q1 #\= 2 #/\ Q2 #\= 2 #/\ Q3 #\= 2 #/\ Q4 #\= 2 #/\ Q5 #= 2, 
	Q1 #= 5 #<==> Q1 #\= 2 #/\ Q2 #\= 2 #/\ Q3 #\= 2 #/\ Q4 #\= 2 #/\ Q5 #\= 2 #/\ Q6 #= 2,

	

	Q2 #= 1 #<==> Q2 #= Q3 #/\ Q3 #\= Q4 #/\ Q4 #\= Q5 #/\ Q5 #\= Q6 #/\ Q6 #\= Q7,
	Q2 #= 2 #<==> Q2 #\= Q3 #/\ Q3 #= Q4 #/\ Q4 #\= Q5 #/\ Q5 #\= Q6 #/\ Q6 #\= Q7,
	Q2 #= 3 #<==> Q2 #\= Q3 #/\ Q3 #\= Q4 #/\ Q4 #= Q5 #/\ Q5 #\= Q6 #/\ Q6 #\= Q7,
	Q2 #= 4 #<==> Q2 #\= Q3 #/\ Q3 #\= Q4 #/\ Q4 #\= Q5 #/\ Q5 #= Q6 #/\ Q6 #\= Q7, 
	Q2 #= 5 #<==> Q2 #\= Q3 #/\ Q3 #\= Q4 #/\ Q4 #\= Q5 #/\ Q5 #\= Q6 #/\ Q6 #= Q7,

	Q1 #\= Q2, Q7 #\= Q8, Q8 #\= Q9, Q9 #\= Q10,

	

	%Q3 #= 5,

	Q3 #= 1 #<==> Q1 #= Q3, 
	Q3 #= 2 #<==> Q2 #= Q3, 
	Q3 #= 3 #<==> Q4 #= Q3, 
	Q3 #= 4 #<==> Q7 #= Q3, 
	Q3 #= 5 #<==> Q6 #= Q3,



	Q4 #= 1 #<==> N1 #= 0, 
	Q4 #= 2 #<==> N1 #= 1, 
	Q4 #= 3 #<==> N1 #= 2, 
	Q4 #= 4 #<==> N1 #= 3, 
	Q4 #= 5 #<==> N1 #= 4, 



	%Q5 #= 5,

	
	Q5 #= 1 #<==> Q10 #= Q5, 
	Q5 #= 2 #<==> Q9 #= Q5, 
	Q5 #= 3 #<==> Q8 #= Q5, 
	Q5 #= 4 #<==> Q7 #= Q5, 
	Q5 #= 5 #<==> Q6 #= Q5,


	Q6 #= 1 #<==> N1 #= N2, 
	Q6 #= 2 #<==> N1 #= N3, 
	Q6 #= 3 #<==> N1 #= N4, 
	Q6 #= 4 #<==> N1 #= N5, 
	Q6 #= 5 #<==> N1 #\= N2 #/\ N1 #\= N3 #/\ N1 #\= N4 #/\ N1 #\= N5, 

	Q7 #= 1 #<==> Q8 - Q7 #= 4, 
	Q7 #= 2 #<==> Q8 - Q7 #= 3, 
	Q7 #= 3 #<==> Q8 - Q7 #= 2 #\/ Q7 - Q8 #= 2, 
	Q7 #= 4 #<==> Q8 - Q7 #= 1 #\/ Q7 - Q8 #= 1, 
	Q7 #= 5 #<==> Q8 #= 5, 


	Q8 #= 1 #<==> N1 + N5 #= 2, 
	Q8 #= 2 #<==> N1 + N5 #= 3, 
	Q8 #= 3 #<==> N1 + N5 #= 4, 
	Q8 #= 4 #<==> N1 + N5 #= 5, 
	Q8 #= 5 #<==> N1 + N5 #= 6,

	Q9 #= 1 #<==> (N2 + N3 + N4) #= 2 #\/ (N2 + N3 + N4) #= 3 #\/ (N2 + N3 + N4) #= 5 #\/ (N2 + N3 + N4) #= 7,
	Q9 #= 2 #<==> (N2 + N3 + N4) #= 1 #\/ (N2 + N3 + N4) #= 2 #\/ (N2 + N3 + N4) #= 6,
	Q9 #= 4 #<==> (N2 + N3 + N4) #= 0 #\/ (N2 + N3 + N4) #= 1 #\/ (N2 + N3 + N4) #= 8,
	Q9 #= 3 #<==> (N2 + N3 + N4) #= 0 #\/ (N2 + N3 + N4) #= 1 #\/ (N2 + N3 + N4) #= 4 #\/ (N2 + N3 + N4) #= 9,
	Q9 #= 5 #<==> (N2 + N3 + N4) mod 5 #= 0,

	%Q10 #= 1,
		
	label(Zliczenia), 
	label(Rozwiazanie),
	zlicz(1,Rozwiazanie,N1),
	zlicz(2,Rozwiazanie,N2),
	zlicz(3,Rozwiazanie,N3),	
	zlicz(4,Rozwiazanie,N4),
	zlicz(5,Rozwiazanie,N5).
	
 


wszystkie_odpowiedzi:-srat(N), maplist(plus(64),N,M),maplist(put_char,M).